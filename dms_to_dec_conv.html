<!DOCTYPE html>
<html>
  <head> 
	  
	<link rel="stylesheet" type="text/css" href="style.css">
	  
	<script type="text/javascript">

        function solve_dec() {
            calc_coord_dec("lat", "N")
            calc_coord_dec("lon", "E")
		
	    to_wkt()
	    to_geojson()
	}
        
        function calc_coord_dec(coord, pos_dir) {
	    var coord_deg = document.getElementById(coord+"_deg").value;
            var coord_min = document.getElementById(coord+"_min").value;
            var coord_sec = document.getElementById(coord+"_sec").value;
	    var coord_dir = document.getElementById(coord+"_dms_dir").value.toUpperCase();
            var coord_dec = coord_deg.toString() + '+' + coord_min.toString() + '/60+' + coord_sec.toString() + '/3600';
            if (coord_dir != pos_dir){
	        coord_dec = '(-1)*(' + coord_dec + ')'
	    }
	    document.getElementById(coord+"_dec").innerHTML = eval(coord_dec).toFixed(8);        
        }
		
	function to_wkt() {
	    var lat_1_dec = document.getElementById("lat_dec").value;
	    var lon_1_dec = document.getElementById("lon_dec").value;
		
            document.getElementById("wkt_out").innerHTML = 'POINT(' + lon_1_dec +' '+ lat_1_dec +')';
        }
		
	function to_geojson() {
	    var lat_1_dec = document.getElementById("lat_dec").value*1;
	    var lon_1_dec = document.getElementById("lon_dec").value*1;
            var geojson = {
                "type":"Feature",
                "geometry":{
                    "type":"Point",
                    "coordinates":[]
                    },
                "properties":null
                };
            
            geojson.geometry.coordinates.push([lon_1_dec, lat_1_dec]);
        
            document.getElementById("geojson_out").innerHTML = JSON.stringify(geojson);
        }
		       
	</script> 
</head> 
<!-- create table -->
<body> 

    <div class="title" style="width:40%;">Latitude Longitude DMS to Dec Converter</div> 
    
    <table class="calc_table" style="width:40%;"> 
	<colgroup>
            <col span="1" style="width:25%;">
            <col span="1" style="width:25%;">
            <col span="1" style="width:25%;">
            <col span="1" style="width:25%;">
        </colgroup>
        <tr>
	    <td colspan="4">
	        This tool will convert a latitude and longitude from Degree, Minutes Seconds (DMS, 
		    in DD&#176; MM&#8242; SS.S&#8243; format) to Decimal degrees (DD, in DD.DDD&#176; format)
	    </td>
        </tr>
	<tr>
	    <td colspan="2">Latitude:</td>
	    <td colspan="2">Longitude:</td>
	</tr>
	<tr>
            <td colspan="2">
		<select style="width:15%;" name="lat_dms_dir" id="lat_dms_dir">
                    <option value="N">N</option>
                    <option value="S">S</option>
                </select>
		<input type="number" style="width:20%;" name="lat_deg" id="lat_deg" value="0" min="0" step="1"/>&#176;</>
		<input type="number" style="width:20%;" name="lat_min" id="lat_min" value="0" min="0" step="1"/>&#8242;</>
		<input type="number" style="width:25%;" name="lat_sec" id="lat_sec" value="0.000" min="0" step="0.001"/>&#8243;</>
	    </td>
	    
            <td align="center" colspan="2">
		<select style="width:15%;" name="lon_dms_dir" id="lon_dms_dir">
                    <option value="E">E</option>
                    <option value="W">W</option>
                </select>
		<input type="number" style="width:20%;" name="lon_deg" id="lon_deg" value="0" min="0" step="1"/>&#176;</>
		<input type="number" style="width:20%;" name="lon_min" id="lon_min" value="0" min="0" step="1"/>&#8242;</>
	        <input type="number" style="width:25%;" name="lon_sec" id="lon_sec" value="0.000" min="0" step="0.001"/>&#8243;</>
	    </td>
        </tr> 
        <tr></tr>
	<tr> 
            <td colspan="1"></td>
            <td colspan="2"><input type="button" value="Convert" onclick="solve_dec()"/></td>
            <td colspan="1"></td>
        </tr> 
        <tr></tr>
        <tr> 
            <td colspan="2">Latitude:</td>
	    <td colspan="2">Longitude:</td>
        </tr>
        <tr> 
	    <td colspan="2" name="lat_dec" id="lat_dec">0.00000000</>
            <td colspan="2" name="lon_dec" id="lon_dec">0.00000000</>
	</tr>
	<tr>
	    <td colspan="1">As WKT:</td> 
	    <td colspan="3" name="wkt_out" id="wkt_out">POINT(0.00000004 0.00000000)</td>
	</tr>
	<tr>
	    <td colspan="1">As GeoJson:</td> 
	    <td colspan="3" name="geojson_out" id="geojson_out">POINT(0.00000000 0.00000000)</td>
	</tr>
	</table> 
</body> 

</html>
